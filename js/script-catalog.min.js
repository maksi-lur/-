import*as flsFunctions from"./modules/functions.js";flsFunctions.isWebp();import*as navFunction from"./modules/nav.js";import*as mapFunction from"./modules/map.js";import*as animFunction from"./modules/animation.js";import*as catalogFunction from"./modules/catalog.js";import*as colorFunction from"./modules/color.js";let wrapperBody=document.querySelector(".wrapper"),animItem=document.querySelectorAll(".anim-item"),localIndexCity=localStorage.cityIndex,localIndexShop=(null==localIndexCity&&(localIndexCity=0),localStorage.shopIndex);function initSmallScreen(){window.innerWidth<=700&&setTimeout(()=>{mapFunction.newMap(localIndexCity)},50),700<window.innerWidth&&wrapperBody.classList.add("sw-active")}null==localIndexShop&&(localIndexShop=0),window.onload=function(){if(setTimeout(()=>{catalogFunction.clickHeadItem(),catalogFunction.clickSubItem(),catalogFunction.clickContentItem(),catalogFunction.initLazyCatalogImage()},100),colorFunction.initColorCatalog(),navFunction.initBurger(),setTimeout(()=>{document.querySelector(".preloader").classList.add("loaded-hiding"),document.body.classList.remove("lock")},300),setTimeout(()=>{document.querySelector(".preloader").classList.add("loaded"),document.querySelector(".preloader").classList.remove("loaded-hiding")},600),navFunction.scrollWindow(),setTimeout(()=>{animFunction.animOnScroll()},100),0==window.pageYOffset&&700<window.innerWidth)wrapperBody.classList.add("anim");else if(0!==window.pageYOffset||window.innerWidth<=700){for(let o=0;o<animItem.length;o++)animItem[o].classList.add("no-item-active");wrapperBody.classList.remove("anim")}initSmallScreen()},window.onscroll=function(){navFunction.scrollWindow(),animFunction.animOnScroll()},window.onresize=function(){window.innerWidth<=700&&wrapperBody.classList.contains("sw-active")&&(null==(localIndexShop=localStorage.shopIndex)&&(localIndexShop=0),null==(localIndexCity=localStorage.cityIndex)&&(localIndexCity=0),setTimeout(()=>{mapFunction.newMap(localIndexCity)},20),wrapperBody.classList.remove("sw-active")),700<window.innerWidth&&!wrapperBody.classList.contains("sw-active")&&(mapFunction.deleteMap(),navFunction.delBurger(),wrapperBody.classList.add("sw-active"))};