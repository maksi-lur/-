import *as flsFunctions from "./modules/functions.js"; flsFunctions.isWebp(); import *as navFunction from "./modules/nav.js"; import *as animFunction from "./modules/animation.js"; import *as colorFunction from "./modules/color.js"; import { initPagination, resizePagination } from "./slider.js"; import *as mapFunction from "./modules/map.js"; let proectsBulletList = document.querySelectorAll(".swiper-pagination-proects .swiper-pagination-bullet"), proectsBulletList1 = document.querySelectorAll(".swiper-pagination .swiper-pagination-bullet"), proectsBulletList2 = document.querySelectorAll(".main__proects-content-item.swiper-slide"), teamBulletList = document.querySelectorAll(".team-pagination .swiper-pagination-bullet"), teamBulletList2 = document.querySelectorAll(".main__team-slider-item.swiper-slide"), proectWrapper = document.querySelector(".main__proects-content-block"), teamWrapper = document.querySelector(".main__team-slider-block"), wrapperBody = document.querySelector(".wrapper"), animItem = document.querySelectorAll(".anim-item"), localIndexCity = localStorage.cityIndex, localIndexShop = (null == localIndexCity && (localIndexCity = 0), localStorage.shopIndex); function initSmallScreen() { window.innerWidth <= 700 && setTimeout(() => { mapFunction.newMap(localIndexCity) }, 50), 700 < window.innerWidth && wrapperBody.classList.add("sw-active") } null == localIndexShop && (localIndexShop = 0), window.onload = function () { if (colorFunction.initColorCatalog(), navFunction.initBurger(), setTimeout(() => { document.querySelector(".preloader").classList.add("loaded-hiding"), document.body.classList.remove("lock") }, 100), setTimeout(() => { document.querySelector(".preloader").classList.add("loaded"), document.querySelector(".preloader").classList.remove("loaded-hiding") }, 400), navFunction.scrollWindow(), setTimeout(() => { animFunction.animOnScroll() }, 100), 0 == window.pageYOffset && 700 < window.innerWidth) wrapperBody.classList.add("anim"); else if (0 !== window.pageYOffset || window.innerWidth <= 700) { for (let e = 0; e < animItem.length; e++)animItem[e].classList.add("no-item-active"); wrapperBody.classList.remove("anim") } initPagination(proectsBulletList, proectsBulletList1, proectsBulletList2, proectWrapper), initPagination(teamBulletList, void 0, teamBulletList2, teamWrapper), initSmallScreen() }, window.onscroll = function () { navFunction.scrollWindow(), animFunction.animOnScroll() }, window.onresize = function () { window.innerWidth <= 700 && wrapperBody.classList.contains("sw-active") && (resizePagination(".swiper-pagination-proects", proectsBulletList2, proectWrapper), resizePagination(".team-pagination", teamBulletList2, teamWrapper), null == (localIndexShop = localStorage.shopIndex) && (localIndexShop = 0), null == (localIndexCity = localStorage.cityIndex) && (localIndexCity = 0), setTimeout(() => { mapFunction.newMap(localIndexCity) }, 20), wrapperBody.classList.remove("sw-active")), 700 < window.innerWidth && !wrapperBody.classList.contains("sw-active") && (mapFunction.deleteMap(), navFunction.delBurger(), wrapperBody.classList.add("sw-active")) };